---
i18n:
  en: "Maintenance and Operations"
  fr: "Maintenance et opÃ©rations"
---

# Maintenance and Operations

## The `galad_config.json` file is managed automatically:

```json
{
  "resolution": [1280, 720],
  "framerate": 30,
  "volume_music": 0.7,
  "volume_sound": 0.8,
  "window_mode": "windowed",
  "camera_sensitivity": 1.0
}
```

**Basic maintenance actions:**

1. **Backup the config**:
   ```bash
   cp galad_config.json galad_config_backup.json
   ```

2. **Reset if problem**:
   ```bash
   rm galad_config.json  # The game will recreate default parameters
   ```

3. **Clean temporary files**:
   ```bash
   # Delete .pyc and __pycache__
   find . -name "__pycache__" -type d -exec rm -rf {} +
   find . -name "*.pyc" -delete
   ```

### Version management with Git

The project uses automatic Git hooks for commits:

**Available scripts:**
- `setup_dev.py` - Automatic installation of development environment (dependencies, hooks, etc.)
- `setup/install_hooks_with_bump.py` - Automatic installation of hooks (commit message, bump version) [Not recommended as automatic bump is not functional]
- `setup/install_commitizen_universel.py` - Installation of commitizen for conventional commits
- `scripts/clean-changelog.py` - Changelog cleanup
- Pre-commit and post-checkout hooks

**Required commit format:**
```
feat: new feature
fix: bug fix
docs: documentation
style: formatting
refactor: refactoring
```

### Simple development tools

**Tests and checks:**
```bash
# Test hooks installation
python setup/test_hooks.py

# Check that the game starts
python main.py

# Debug mode (F3 in the game)
# Displays FPS, camera position, zoom, resolution
```

That's it! No complex monitoring, just the basics to maintain the project.

## Benchmarks and Performance Analysis

### Running Benchmarks

The project includes a benchmarking system to measure game performance:

```bash
# Simple benchmark (30 seconds)
python3 scripts/benchmark/benchmark.py -d 30

# Benchmark with detailed profiling
python3 scripts/benchmark/benchmark.py -d 30 --profile --export-csv

# Benchmark without AI (to measure engine overhead)
python3 scripts/benchmark/benchmark.py -d 30 --num-ai 0 --profile --export-csv

# Full game benchmark only
python3 scripts/benchmark/benchmark.py -d 30 --full-game-only --profile --export-csv
```

### Analyzing Results

Results are exported to CSV in the root directory:

```bash
# Analyze latest benchmark automatically
python3 scripts/benchmark/analyze_benchmark.py

# Analyze specific benchmark
python3 scripts/benchmark/analyze_benchmark.py benchmark_results_20251106_145449.csv
```

**Provided results**:

- **System performance**: CPU, RAM, OS
- **Average FPS** and time budget per frame
- **Top CPU consumers**: Most expensive functions
- **AI activity**: Detection of active processors
- **Recommendations**: Optimization suggestions

ðŸ“– **See also**:

- [Benchmark Analysis Tool](../02-systeme/modules/benchmark-analysis.md) - Complete tool documentation
- [AI Processor Manager](../02-systeme/modules/ai-processor-manager.md) - AI processor optimization

### Comparative Analysis Example

**Workflow to validate an optimization**:

```bash
# 1. BEFORE benchmark
python3 scripts/benchmark/benchmark.py -d 30 --full-game-only --num-ai 0 --profile --export-csv
# Note generated file: benchmark_results_20251106_142235.csv

# 2. Implement optimization (e.g., AI Manager)

# 3. AFTER benchmark
python3 scripts/benchmark/benchmark.py -d 30 --full-game-only --num-ai 0 --profile --export-csv
# Note generated file: benchmark_results_20251106_145449.csv

# 4. Compare
python3 scripts/benchmark/analyze_benchmark.py benchmark_results_20251106_142235.csv > before.txt
python3 scripts/benchmark/analyze_benchmark.py benchmark_results_20251106_145449.csv > after.txt
diff -y before.txt after.txt
```

**Key metrics to monitor**:

- **Average FPS**: Should be â‰¥ 30 (ideal: 60)
- **Rendering**: Normal if < 30% of total time
- **game_update**: Should stay < 10%
- **AI overhead**: Should be ~0% in "0 AI" mode

## Logs and In-Game Debug

### Basic Logging System

The game uses standard Python logging:

```python
# In main.py (line 7)
import logging
logging.basicConfig(level=logging.INFO)
```

**Available logs**:

- Console messages during execution
- Asset loading errors
- Startup information

**To save logs**:

```bash
python main.py > game.log 2>&1
```

### Simple Debug and Monitoring

**Integrated debug mode**:

- Press **F3** to show debug info
- Camera position, zoom, FPS, resolution

**Configuration files**:
- `galad_config.json` - Main game configuration
- Resolution, volumes, graphical parameters
- Saved automatically when changing options

### Configuration backup

### Game data backup

#### Backup structure

There is no backup system except for user parameters.

